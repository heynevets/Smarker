close all; clear all; clc

% % 
% f = 4;
% t = linspace(0, 2*pi/f, 100);
% 
% L = 140;
% y = [];
% Dr = [];
% Dl = [];
% 
% % canvas test;
% v = 10;
% theta = 1;
% 
% for i = 1:length(t)
%     y(i) = cos(f*t(i));
%     dtheta = cos(f*t(i)) - theta;
%     theta = cos(f*t(i));
%     Dr(i) = v + dtheta*L/2;
%     Dl(i) = v - dtheta*L/2;
%     
% end
% plot(t, y)
% figure()
% plot(t, Dr, 'b');
% hold on
% plot(t, Dl, 'r');
% 
% for i = 1:length(t)
%     disp(sprintf('{%2.2f, %2.2f}, ', Dl(i), Dr(i)));
% end
% length(t)

%%
% canvas test - Differential;


x = [0.25,0.5,1,2.25,3.5,4.75,6,7,8,9,10,11,11.75,13,13.5,14,14.5,14.75,15.25,15.5,16,16.5,17,18,18.75,19.5,20.25,21,22,23,24.5,25.75,27.25,28.75,30.5,32.75,34.5,35.5,37,38,39,39.75,40.75,41.5,42,42.75,43,43.25,43.5,43.5,43.5,43.5,43.25,43,42.75,42.25,41.75,41.25,40.75,40,39.25,38,36.5,35,33.75,31.25,29.75,28.25,26.5,25,23.5,22,19.75,18.25,16.75,15.25,14,12.5,11.25,9.75,8.5,7,5.25,4,3.25,2.5,2,1.25,1,0.5,0.25,0,0,-0.25,-0.25,-0.5,-0.75,-0.75,-1,-1.25,-1.75,-2,-2.25,-2.25,-2.5,-2.75,-3,-3.25,-3.5,-3.75,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4,-3.75,-3.5,-3.25,-2.75,-2.5,-2,-1.25,-0.75,0,1.25,2,3.25,4.5,5.5,7,8.5,10,11.5,13,14.25,16.5,18,19.75,21.5,23.25,24.75,26.25,28,29.5,31.25,34,36.5,38.5,41.25,43.75,46.5,49.25,52.5,55.75,61,64.25,67.5,70.75,73.75,76.75,79,81.25,83.25,85.5,87,88.25,89.5,90.5,91.5,92.25,93,93.25,93.75,94,94.25,94.5,94.5,94.5,94.5,94.5,94.5,94.25,94,93.75,93.5,93.25,93,92.75,92.25,92,91.5,90.75,90,88,86.75,85.75,84.25,83.5,82.25,81.5,80.5,79.5,78.75,77.5,76.5,75.75,75,74.25,73.25,72.5,71.5,70.5,69.25,68.25,66.75,65.75,64.75,64,63,62.25,61.25,60.5,59.75,59,58,57.5,57,56.5,56,55.75,55.25,55,54.75,54.25,53.75,53.75,53.5,53.25,53,53,53,53,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,53,53.25,53.25,53.25,53.5,53.5,53.75,53.75,53.75,54,54,54.25,54.25,54.5,54.75,55,55.25,55.75,56,56.5,57.25,58,59.25,60.25,61.25,62.25,63.25,64.25,65.25,66.5,68,70.5,72.25,74,75.75,77.75,80,82.25,84.5,86.25,87.75,89.75,91.75,93.5,95.25,96.75,98.5,99.75,101,102,102.75,103.5,104.5,105,105.75,106.25,107,107.5,108.25,108.5,109,109,109.25,109,109,108.75,108,106.5,105.75,104.25,103,101.75,100.25,99,97.5,96.25,95,93.75,92.25,91,90,89,88,87,86,85.25,84.5,83.75,82.75,81.5,80.75,80.25,79.5,79,78.5,78,77.75,77.25,77.25,77.25,77,77,77,77,77,77.25,77.5,77.75,78,78.25,78.75,79,79.5,80,80.25,80.75,81.25,81.75,82.5,83,83.5,84,84.5,85.25,85.75,86.5,87.5,88.25,89,90.5,91.25,92.25,93.25,94.25,95,96,96.75,98,99,99.75,100.75,101.5,102.25,102.75,103.25,104,104.75,106,106.5,107.75,108.5,109.25,109.75,110.5,111.25,111.75,112.5,112.75,113.25,113.25,113.25,113.5,113.5,113.5,113.5,113,112.75,112,111.25,110.5,109.5,109,108.25,107.75,107.25,107,106.75,106.5,106.25,106,105.75,105.5,105.25,105,104.75,104.5,104.25,104,103.5,103.25,103,102.5,102.25,102,101.75,101.5,101.25,101,101,100.75,100.75,100.5,100.5,100.25,100.25,100.25,100.25,100.25,100.25,100.25,100.5,100.75,101,101.25,101.5,101.75,102,102.25,102.25,102.75,103,103.25,103.75,104,104.5,105,105,105,105.25,105.75,106.25,107.25,108.5,109.5,110.5,111.75,113,114.25,115.5,116.75,117.75,119,119.75,120.25,121,121.5,122.5,123,123.5,124,124.5,125.5,126.25,127,127.5,128,128.5,129,129.25,129.5,129.75,130,130.5,130.75,130.75,131,131,131,131,131,131,131,131,131,131,131,131.25,131.75,132.5,133,134,135,136.25,137.5,139,141.5,143.25,145.25,147,149,150.25,151.75,152.75,153.75,154.25,154.75,154.75,155,155,155,155,154.75,154.25,154,153.5,152.75,152,150.75,150,149.25,148.5,148,147.5,147,146.75,146.25,145.75,145.25,144.75,144.5,143.75,143.5,143,142.5,142.25,141.5,141,140.5,140.25,139.75,139.5,139,138.75,138.5,138.25,138,137.75,137.5,137.25,137.25,137,137,137,137,137,137,137,137.25,137.25,137.5,137.75,137.75,138,138,138.25,138.5,138.5,139,139.5,140.5,141,141.75,142.25,143,143.75,144.25,145,145.75,146.5,147.75,148.25,149,149.75,150.5,151.5,152.25,153.25,154.25,155.25,157,158,159.25,160.5,162,163.75,165.75,167.5,169.25,171,174,176,178,179.5,181,182,183,184,185,185.5,186.25,186.75,186.75,187,186.75,186.75,186.5,186,185.5,184.5,184,183,181.75,180.75,180,179,178.5,178,177.75,177.5,177.25,177,177,177,177,177,177,177.25,177.5,177.75,178,178.5,178.5,178.75,179,179,179,179,178.75,178.25,177.75,177.25,176.5,176,175.25,174.25,173.5,172.75,172,171,170.25,169.25,168.5,167.75,167,166,165.25,164.75,164.25,164,163.5,163.25,163.5,164,165,166,167.25,168.75,170.5,172,173.75,175.5,178.5,180.5,182.5,184.5,186.5,188.75,190.75,193,194.75,197,200.25,202.5,204.5,206.75,208.75,211.25,213.75,216,218.25,220.25,222.25,224.75,226.25,227.25,228.75,229.75,230.5,231.25,232.25,233,234.25,235,235.5,236,236.5,237.25,237.75,238.25,238.75,239,239.5,239.75,240,240.25,240.5,240.5,240.5,240.5,240.5,240.75,240.75,240.75,241,240.75,240,239.5,238.5,237.75,236.75,235.5,234.5,233,232,230.75,229.5,228.25,227.5,226.25,225.25,224.25,223.25,222.5,221.75,221,219.75,219,218.25,217.5,216.75,216.25,215.5,214.75,214,213.25,212.25,211.5,210.75,210.25,209.5,208.75,208.25,207.5,207.25,206.5,205.75,205.5,205,204.75,204.5,204.25,204,203.75,203.5,203.5,203.25,203.25,203,203,202.75,202.75,202.75,202.75,202.75,202.75,202.75,202.75,203,203,203.25,203.25,203.5,203.75,204.25,204.75,205,205.5,206.25,207,207.75,208.25,209.25,210.25,211.5,212.5,214,215.25,217,218.5,220,221.5,223.25,224.75,227,228.5,229.25,230.5,231.5,232.5,233.5,234.25,234.75,235.25,235.75,236,236.25,236.5,236.75,237,237.25,237.25,237.5,237.5,237.5,237.75,237.75,237.75,237.75,238,238,238,238,238,238,238,237.75,237.5,237,236.5,236,235.5,235,234.25,234,233,232.5,232,231.5,231,230.75,230.25,230,229.5,229.25,229,229,228.75,228.75,228.5,228.5,228.5,228.5,228.5,228.5,228.75,228.75,228.75,229,229,229.25,229.5,229.75,230.25,230.75,231.25,231.75,232.25,232.75,233.5,234,234.75,235.5,236,236.75,237.5,238,238.5,239,239.75,240.25,241.5,242.5,243.5,244.5,245.75,247,248.75,251,253,256.25,258.25,260.5,262.5,264.75,266.5,267.75,270,271.5,272.75,274,276,277.25,278.25,279.25,279.75,280.5,281.25,281.75,282.5,283.25,284.25,284.75,285.5,286,286.5,286.75,287.25,287.5,287.5,287.75,287.75,287.75,287.75,287.5,287.5,286.75,285.75,283.75,282,280.5,279.25,278,276.5,275.5,274,272.75,271.75,271,269.75,269.25,268.5,267.75,267.25,266.5,265.5,264.5,263.5,262,261,259.75,259,258.25,257.5,257.25,256.75,256.75,256.25,256.25,256.25,256.25,256.25,256.5,256.5,256.75,256.75,257.25,257.5,258,258.25,258.75,259.25,259.75,260.25,261,262,262.75,263.75,264.5,266.25,267.25,268.25,269.25,270.5,271.5,272.25,273.25,274,275,276,276.75,277.5,278.5,279.5,280.25,281.5,283,284,286,286.5,287.25,287.75,288.5,288.75,289,289.5,289.5,289.75,289.75,289.75,289.75,289.5,289,288.5,287.5,287,286.5,285.75,285.5,285,284.5,284.25,283.75,283.5,283,282.5,282.25,282,281.75,281.75,281.5,281.25,281,280.75,280.5,280.25,280,280,280,280,280,280,280,280,280.25,280.25,280.5,280.75,281,281.25,281.75,282,282.25,282.5,282.75,283,283,283.25,283.25,283.5,283.5,283.5,283.75,284,284,284.25,284.5,284.75,285,285.25,285.5,285.75,286.25,286.75,287,287.5,287.75,288.25,288.75,289.75,291,293.5,298.75,304.25];
y = [0.25,0.5,1,1.75,3,3.75,4.5,5,5.75,6,6.75,7.25,7.5,8,8.25,8.5,8.5,8.5,8.5,8.5,8.5,8.25,8.25,8,7.75,7.75,7.75,7.75,7.75,7.75,7.75,7.75,8,8.5,9,10,10.5,11.25,12,12.5,13,13.75,14.25,14.75,15.25,15.75,16,16.25,16.25,16.5,16.25,16.25,15.75,15.25,14.75,13.75,12.5,11.25,9.5,7.5,5,0.5,-3,-6.75,-10.5,-16.25,-19.5,-23.75,-28.25,-32.25,-36.25,-40.25,-46.25,-50,-53.5,-57,-60.5,-63.75,-67,-70.25,-73,-75.5,-79.25,-81.25,-82.5,-83.5,-84.5,-85.25,-85.5,-86,-86,-86.25,-86.25,-86.25,-86.25,-86.5,-86.5,-86.5,-86.75,-86.75,-86.75,-87,-87,-87,-87,-87,-86.75,-86.25,-86,-85.25,-84.75,-84,-83.5,-82.75,-82,-80.75,-79.75,-78.75,-77.5,-76.25,-75.25,-74,-72.5,-71.25,-70.25,-69.25,-68,-66.75,-65.25,-64.25,-63,-61.25,-60.25,-59,-57.75,-56.75,-55.5,-54.25,-53,-51.75,-50.5,-49.25,-47.75,-46.75,-45.75,-44.75,-43.75,-43,-42.5,-41.5,-40.75,-40,-38.75,-37.75,-36.75,-35.75,-34.75,-33.75,-32.25,-30.75,-29,-26.25,-24,-22,-19.75,-17.25,-15.25,-13,-10.75,-8.5,-5.75,-4,-2,-0.25,1.5,3.25,4.75,6.5,7.75,9.5,11.25,12.5,13.25,13.75,14,14.25,14.5,14.75,15,15,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,14.75,14,13,11.5,9.75,7.75,5.5,3.5,1.75,-0.75,-2.25,-3.75,-5.5,-7.25,-9,-11,-13.25,-15.25,-17.5,-19.75,-23,-25.25,-27.25,-29.5,-31.75,-34.5,-36.75,-39,-41.5,-43.75,-47,-48.75,-51,-53,-54.75,-56.25,-58,-59.25,-60.5,-62.75,-64,-65.25,-66.5,-67.75,-69.25,-70.5,-72,-73.25,-74.5,-76,-77,-78,-78.75,-79.25,-80,-80.25,-81,-81.5,-81.75,-82,-82.25,-82.5,-82.75,-83.75,-84.25,-84.5,-84.75,-85,-85,-85.25,-85.25,-85.25,-85.25,-85.25,-85,-85,-84.75,-84.25,-84,-83.5,-82.75,-82.25,-81.25,-80,-79,-76.75,-75.25,-73.5,-71.75,-70,-68.75,-67,-65.5,-64,-61.5,-59.75,-58.25,-56.5,-55,-53.25,-51.5,-50,-48.75,-47.5,-45.75,-44.25,-43,-41.75,-40.5,-39.25,-38.5,-37.5,-37,-36.5,-35.75,-35.25,-34.75,-34.5,-34.25,-33.75,-33.5,-33.25,-33,-32.75,-32.75,-32.75,-32.75,-32.75,-32.75,-32.75,-33,-33.5,-34.25,-35,-36,-36.75,-38,-39,-40,-41,-42.25,-43.5,-45,-46.25,-47.5,-48.75,-50.5,-51.75,-53.25,-55.25,-57.25,-59.75,-63,-65,-67.25,-69.25,-70.75,-72.25,-73.5,-75,-76.5,-77.5,-78.5,-79.5,-80.5,-81.25,-82,-82.75,-83.25,-83.5,-83.75,-84,-84.25,-84.25,-84.25,-84.25,-84.25,-84.25,-84,-83.75,-83.5,-83,-82.5,-82,-81.5,-80.75,-80.25,-79.5,-78.5,-77.25,-76,-74.75,-72.5,-71,-69.5,-68,-66.75,-65.5,-63.75,-62.75,-61,-59.25,-58,-56.25,-55,-53.75,-52.75,-51.5,-50.25,-48.75,-46.5,-46,-43.5,-42.25,-40.75,-39.5,-38,-36.75,-36,-35.25,-34.5,-34,-33.75,-33.5,-33.5,-33.5,-33.5,-33.5,-34.25,-35,-36.25,-37.75,-39.5,-41.5,-42.5,-44,-45,-46,-46.75,-47.75,-48.25,-49,-49.5,-50.25,-50.75,-51.25,-51.75,-52.5,-52.75,-53.5,-54.25,-55.25,-56,-57,-58.75,-59.75,-61,-62,-63.25,-64.5,-66,-67.25,-68.5,-71.25,-72.5,-73.75,-75,-76,-77,-77.5,-78.25,-78.75,-79,-79.5,-80.25,-80.5,-80.75,-81,-81.25,-81.25,-81.5,-81.5,-81.5,-81.5,-81.5,-81.5,-81.25,-81,-80.75,-80.75,-80.75,-80.75,-80.75,-80.5,-79.75,-79.25,-78.25,-77.25,-76,-74.75,-73.25,-71.75,-70.5,-69.25,-67.5,-66.5,-65.5,-64.5,-63.5,-62,-61,-60,-59,-58,-56,-54.5,-53,-51.5,-50,-48.5,-47.5,-46,-44.5,-43.25,-42.25,-40.75,-40.25,-39.5,-39.25,-39,-39,-38.75,-38.75,-38.75,-38.5,-38.5,-38.5,-38.5,-38.5,-38.5,-38.75,-39,-39,-39.25,-39.25,-39.25,-39.25,-39.25,-38.5,-38,-37.5,-37,-36.5,-36,-35.5,-35.25,-35,-34.5,-34.5,-34.5,-34.5,-34.5,-34.5,-34.75,-35,-35.5,-36,-36.75,-37.5,-38.5,-40,-41,-42,-43,-44,-44.75,-45.75,-46.5,-47.25,-48.5,-49.25,-50.25,-51.5,-53,-54,-55,-56.25,-57.25,-58.75,-60,-61.25,-62.25,-63.75,-64.75,-66,-67.5,-68.5,-69.75,-71,-72.25,-73.75,-74.75,-75.75,-76.75,-78,-78.75,-79.75,-80.75,-81.5,-82.25,-83.25,-83.75,-84,-84.25,-84.25,-84.5,-84.5,-84.5,-84.5,-84.5,-84.5,-84.5,-84,-83.75,-83.25,-83,-82.25,-81.75,-81.25,-80.5,-79.75,-79,-77.5,-76.5,-75.5,-74.5,-73.5,-72.25,-71.25,-70,-68.5,-67.25,-65.25,-64,-62.5,-61,-59.5,-57.5,-55.5,-53.5,-51.5,-49.25,-46.25,-44.25,-42.5,-41,-39.75,-39,-38,-37.25,-36.5,-35.75,-35.25,-34.75,-34.75,-34.75,-34.75,-34.75,-35,-35.25,-35.75,-36.5,-37.25,-38.25,-39.25,-40.5,-41.75,-43.5,-44.75,-45.75,-47,-47.75,-48.75,-49.75,-50.75,-51.75,-53.25,-54.25,-55.25,-56,-57.25,-58.25,-59.75,-60.75,-62.5,-64.25,-65.75,-68,-69,-70.25,-71.25,-72,-73,-73.75,-74.5,-75.5,-76.25,-77.75,-78.75,-79.5,-80.5,-81.5,-82,-82.75,-83.5,-84.25,-85,-86.25,-86.75,-87.25,-87.75,-88,-88,-88,-88,-87.5,-86.5,-85.75,-84.5,-83.25,-81.75,-80,-78,-76,-72.75,-70.5,-68.25,-66,-63.75,-61.25,-59,-56.75,-54.25,-51.5,-48,-45.5,-43.25,-41,-38.5,-36,-33.25,-30.5,-28,-25.5,-23.25,-19.75,-18,-16.75,-14.75,-13.5,-12.75,-11.75,-10.5,-9.75,-7.5,-6,-4.25,-2.25,-0.75,0.5,1.5,2,2.5,2.75,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2.5,1.75,0.25,-2.5,-5.5,-8.75,-11.5,-14,-16.75,-18.5,-20.5,-22.5,-24.5,-26.5,-28.25,-30.25,-31.75,-33.5,-36,-37.75,-39.5,-41.25,-43,-45,-46.75,-48.75,-50.75,-52.75,-56,-58.25,-60.75,-63.25,-65.5,-67.75,-70,-72,-73.5,-75.75,-77.5,-78.75,-79.75,-80.75,-81.75,-82.5,-83,-83.5,-84,-84.75,-85,-85.5,-85.75,-86,-86.25,-86.25,-86.25,-86.25,-86.25,-86,-86,-85.75,-85.5,-85,-84.75,-84.25,-83.75,-83,-82,-81.25,-80.5,-79.5,-78.75,-77.5,-76.25,-75.25,-74,-72.5,-70.75,-69.5,-67.75,-66.25,-64.25,-62.5,-60.75,-59,-57.25,-55.75,-53.5,-52.25,-51.5,-50.5,-49.5,-49,-48.25,-47.75,-47.25,-47,-46.75,-46.75,-46.75,-46.75,-46.75,-46.75,-46.5,-46.5,-46.5,-46.5,-46.5,-46.5,-46.5,-46.75,-46.75,-47,-47.5,-47.75,-48.25,-49.5,-50.25,-51,-52.5,-54,-55.5,-57.25,-59,-60.75,-62.5,-64,-65.25,-67.5,-68.75,-69.75,-71,-71.75,-72.75,-73.5,-74.25,-75.5,-77.25,-78.25,-79.75,-80.75,-81.5,-82.25,-82.75,-83.25,-83.5,-84,-84.5,-84.75,-85.25,-85.5,-86,-86.25,-86.5,-86.5,-86.75,-86.75,-86.75,-86.75,-86.75,-86.75,-86.5,-86,-85.5,-84.75,-84,-83.25,-82.5,-81.5,-80.75,-79.75,-79,-77.75,-76.75,-75,-73.5,-72.25,-71,-69.25,-67.75,-66,-63.75,-61.75,-59,-57.25,-55.25,-53.75,-52.5,-51.25,-50.75,-49.75,-49,-48.5,-48,-47.25,-46.75,-46.5,-46,-45.75,-45.5,-45.25,-45,-44.75,-44.5,-44.25,-44.25,-44.25,-44,-44,-44,-44,-44,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-44.25,-44.5,-45,-45.5,-46,-46.75,-47.25,-48,-48.75,-49.5,-50,-51,-51.5,-52.5,-53.5,-54.5,-56,-57.5,-59.25,-60.75,-63.5,-65.25,-67.5,-69.5,-71.5,-73.75,-76,-78,-79.5,-82,-83.25,-84.5,-85.25,-86.25,-86.75,-87,-87.25,-87.5,-87.75,-87.75,-87.75,-87.75,-87.75,-87.75,-87.75,-87.25,-86.75,-85.75,-84.75,-83.5,-82.5,-80.5,-79.25,-78,-77,-75.25,-74.25,-73.25,-72,-70.75,-69.5,-67.75,-66.5,-65.5,-64,-62.75,-61.5,-60,-58.5,-57.25,-54.5,-53.5,-52.25,-51,-49.5,-48.5,-47.25,-46.25,-45.5,-45,-44.75,-44.75,-44.75,-45.5,-46.25,-47.5,-49.25,-50.5,-51.5,-53,-54,-55,-56.25,-57.25,-58.5,-59.5,-61,-62,-63,-64,-65,-66,-67,-67.75,-68.75,-70.25,-72,-73.5,-75,-76.5,-77.75,-79.5,-81,-82.5,-84.25,-85,-85.5,-86,-86.5,-86.75,-87,-87.25,-87.25,-87.5,-87.75,-87.75,-87.75,-87.75,-88,-88,-88,-88,-88,-88,-88,-88,-88,-88,-88,-88,-87.75,-87.75,-87.75,-87.5,-87.25,-87,-86.75,-86.5,-86.25,-86,-85.5,-84.75,-83.5,-80.75,-75,-68.5];

v = 5;
newy = [y(1)];
newx = [x(1)];
for i = 1:length(x)
    lastCoord = [x(i)-newx(end) y(i)-newy(end)];
    if (norm(lastCoord) > v) 
        newy = [newy y(i)];
        newx = [newx x(i)];        
    end
end
y = newy;
x = newx;


theta = [];
l = [];
for i = 2:length(y)-1
    theta = [theta atan2(y(i+1) - y(i-1), x(i+1) - x(i-1))];
    l = [l norm([y(i+1) - y(i-1), x(i+1) - x(i-1)])];
end
x = x(2:end-1);
y = y(2:end-1);

R = 33;
b = 70;
w = [];
for i = 2:length(y)-1
    dx = x(i) - x(i-1);
    dy = y(i) - y(i-1);
    dtheta = theta(i) - theta(i-1);
    m1 = [cos(theta(i)) 0; sin(theta(i)) 0; 0 1];
    m2 = [R/2 R/2; R/2/b -R/2/b];
    w = [w (m1*m2)\[dx; dy; dtheta]];
end




plot(x, y)
figure()
plot(w(1,:), 'b');
hold on
plot(w(2,:), 'r');

for i = 1:length(w)
    disp(sprintf('{%2.2f, %2.2f}, ', w(1, i)*l(i), w(2, i)*l(i)));
end
disp(sprintf('length of w: %d', length(w)));

%%
% % canvas test tran-rot;
% x = [0.25,0.5,1,2.25,3.5,4.75,6,7,8,9,10,11,11.75,13,13.5,14,14.5,14.75,15.25,15.5,16,16.5,17,18,18.75,19.5,20.25,21,22,23,24.5,25.75,27.25,28.75,30.5,32.75,34.5,35.5,37,38,39,39.75,40.75,41.5,42,42.75,43,43.25,43.5,43.5,43.5,43.5,43.25,43,42.75,42.25,41.75,41.25,40.75,40,39.25,38,36.5,35,33.75,31.25,29.75,28.25,26.5,25,23.5,22,19.75,18.25,16.75,15.25,14,12.5,11.25,9.75,8.5,7,5.25,4,3.25,2.5,2,1.25,1,0.5,0.25,0,0,-0.25,-0.25,-0.5,-0.75,-0.75,-1,-1.25,-1.75,-2,-2.25,-2.25,-2.5,-2.75,-3,-3.25,-3.5,-3.75,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4.25,-4,-3.75,-3.5,-3.25,-2.75,-2.5,-2,-1.25,-0.75,0,1.25,2,3.25,4.5,5.5,7,8.5,10,11.5,13,14.25,16.5,18,19.75,21.5,23.25,24.75,26.25,28,29.5,31.25,34,36.5,38.5,41.25,43.75,46.5,49.25,52.5,55.75,61,64.25,67.5,70.75,73.75,76.75,79,81.25,83.25,85.5,87,88.25,89.5,90.5,91.5,92.25,93,93.25,93.75,94,94.25,94.5,94.5,94.5,94.5,94.5,94.5,94.25,94,93.75,93.5,93.25,93,92.75,92.25,92,91.5,90.75,90,88,86.75,85.75,84.25,83.5,82.25,81.5,80.5,79.5,78.75,77.5,76.5,75.75,75,74.25,73.25,72.5,71.5,70.5,69.25,68.25,66.75,65.75,64.75,64,63,62.25,61.25,60.5,59.75,59,58,57.5,57,56.5,56,55.75,55.25,55,54.75,54.25,53.75,53.75,53.5,53.25,53,53,53,53,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,52.75,53,53.25,53.25,53.25,53.5,53.5,53.75,53.75,53.75,54,54,54.25,54.25,54.5,54.75,55,55.25,55.75,56,56.5,57.25,58,59.25,60.25,61.25,62.25,63.25,64.25,65.25,66.5,68,70.5,72.25,74,75.75,77.75,80,82.25,84.5,86.25,87.75,89.75,91.75,93.5,95.25,96.75,98.5,99.75,101,102,102.75,103.5,104.5,105,105.75,106.25,107,107.5,108.25,108.5,109,109,109.25,109,109,108.75,108,106.5,105.75,104.25,103,101.75,100.25,99,97.5,96.25,95,93.75,92.25,91,90,89,88,87,86,85.25,84.5,83.75,82.75,81.5,80.75,80.25,79.5,79,78.5,78,77.75,77.25,77.25,77.25,77,77,77,77,77,77.25,77.5,77.75,78,78.25,78.75,79,79.5,80,80.25,80.75,81.25,81.75,82.5,83,83.5,84,84.5,85.25,85.75,86.5,87.5,88.25,89,90.5,91.25,92.25,93.25,94.25,95,96,96.75,98,99,99.75,100.75,101.5,102.25,102.75,103.25,104,104.75,106,106.5,107.75,108.5,109.25,109.75,110.5,111.25,111.75,112.5,112.75,113.25,113.25,113.25,113.5,113.5,113.5,113.5,113,112.75,112,111.25,110.5,109.5,109,108.25,107.75,107.25,107,106.75,106.5,106.25,106,105.75,105.5,105.25,105,104.75,104.5,104.25,104,103.5,103.25,103,102.5,102.25,102,101.75,101.5,101.25,101,101,100.75,100.75,100.5,100.5,100.25,100.25,100.25,100.25,100.25,100.25,100.25,100.5,100.75,101,101.25,101.5,101.75,102,102.25,102.25,102.75,103,103.25,103.75,104,104.5,105,105,105,105.25,105.75,106.25,107.25,108.5,109.5,110.5,111.75,113,114.25,115.5,116.75,117.75,119,119.75,120.25,121,121.5,122.5,123,123.5,124,124.5,125.5,126.25,127,127.5,128,128.5,129,129.25,129.5,129.75,130,130.5,130.75,130.75,131,131,131,131,131,131,131,131,131,131,131,131.25,131.75,132.5,133,134,135,136.25,137.5,139,141.5,143.25,145.25,147,149,150.25,151.75,152.75,153.75,154.25,154.75,154.75,155,155,155,155,154.75,154.25,154,153.5,152.75,152,150.75,150,149.25,148.5,148,147.5,147,146.75,146.25,145.75,145.25,144.75,144.5,143.75,143.5,143,142.5,142.25,141.5,141,140.5,140.25,139.75,139.5,139,138.75,138.5,138.25,138,137.75,137.5,137.25,137.25,137,137,137,137,137,137,137,137.25,137.25,137.5,137.75,137.75,138,138,138.25,138.5,138.5,139,139.5,140.5,141,141.75,142.25,143,143.75,144.25,145,145.75,146.5,147.75,148.25,149,149.75,150.5,151.5,152.25,153.25,154.25,155.25,157,158,159.25,160.5,162,163.75,165.75,167.5,169.25,171,174,176,178,179.5,181,182,183,184,185,185.5,186.25,186.75,186.75,187,186.75,186.75,186.5,186,185.5,184.5,184,183,181.75,180.75,180,179,178.5,178,177.75,177.5,177.25,177,177,177,177,177,177,177.25,177.5,177.75,178,178.5,178.5,178.75,179,179,179,179,178.75,178.25,177.75,177.25,176.5,176,175.25,174.25,173.5,172.75,172,171,170.25,169.25,168.5,167.75,167,166,165.25,164.75,164.25,164,163.5,163.25,163.5,164,165,166,167.25,168.75,170.5,172,173.75,175.5,178.5,180.5,182.5,184.5,186.5,188.75,190.75,193,194.75,197,200.25,202.5,204.5,206.75,208.75,211.25,213.75,216,218.25,220.25,222.25,224.75,226.25,227.25,228.75,229.75,230.5,231.25,232.25,233,234.25,235,235.5,236,236.5,237.25,237.75,238.25,238.75,239,239.5,239.75,240,240.25,240.5,240.5,240.5,240.5,240.5,240.75,240.75,240.75,241,240.75,240,239.5,238.5,237.75,236.75,235.5,234.5,233,232,230.75,229.5,228.25,227.5,226.25,225.25,224.25,223.25,222.5,221.75,221,219.75,219,218.25,217.5,216.75,216.25,215.5,214.75,214,213.25,212.25,211.5,210.75,210.25,209.5,208.75,208.25,207.5,207.25,206.5,205.75,205.5,205,204.75,204.5,204.25,204,203.75,203.5,203.5,203.25,203.25,203,203,202.75,202.75,202.75,202.75,202.75,202.75,202.75,202.75,203,203,203.25,203.25,203.5,203.75,204.25,204.75,205,205.5,206.25,207,207.75,208.25,209.25,210.25,211.5,212.5,214,215.25,217,218.5,220,221.5,223.25,224.75,227,228.5,229.25,230.5,231.5,232.5,233.5,234.25,234.75,235.25,235.75,236,236.25,236.5,236.75,237,237.25,237.25,237.5,237.5,237.5,237.75,237.75,237.75,237.75,238,238,238,238,238,238,238,237.75,237.5,237,236.5,236,235.5,235,234.25,234,233,232.5,232,231.5,231,230.75,230.25,230,229.5,229.25,229,229,228.75,228.75,228.5,228.5,228.5,228.5,228.5,228.5,228.75,228.75,228.75,229,229,229.25,229.5,229.75,230.25,230.75,231.25,231.75,232.25,232.75,233.5,234,234.75,235.5,236,236.75,237.5,238,238.5,239,239.75,240.25,241.5,242.5,243.5,244.5,245.75,247,248.75,251,253,256.25,258.25,260.5,262.5,264.75,266.5,267.75,270,271.5,272.75,274,276,277.25,278.25,279.25,279.75,280.5,281.25,281.75,282.5,283.25,284.25,284.75,285.5,286,286.5,286.75,287.25,287.5,287.5,287.75,287.75,287.75,287.75,287.5,287.5,286.75,285.75,283.75,282,280.5,279.25,278,276.5,275.5,274,272.75,271.75,271,269.75,269.25,268.5,267.75,267.25,266.5,265.5,264.5,263.5,262,261,259.75,259,258.25,257.5,257.25,256.75,256.75,256.25,256.25,256.25,256.25,256.25,256.5,256.5,256.75,256.75,257.25,257.5,258,258.25,258.75,259.25,259.75,260.25,261,262,262.75,263.75,264.5,266.25,267.25,268.25,269.25,270.5,271.5,272.25,273.25,274,275,276,276.75,277.5,278.5,279.5,280.25,281.5,283,284,286,286.5,287.25,287.75,288.5,288.75,289,289.5,289.5,289.75,289.75,289.75,289.75,289.5,289,288.5,287.5,287,286.5,285.75,285.5,285,284.5,284.25,283.75,283.5,283,282.5,282.25,282,281.75,281.75,281.5,281.25,281,280.75,280.5,280.25,280,280,280,280,280,280,280,280,280.25,280.25,280.5,280.75,281,281.25,281.75,282,282.25,282.5,282.75,283,283,283.25,283.25,283.5,283.5,283.5,283.75,284,284,284.25,284.5,284.75,285,285.25,285.5,285.75,286.25,286.75,287,287.5,287.75,288.25,288.75,289.75,291,293.5,298.75,304.25];
% y = [0.25,0.5,1,1.75,3,3.75,4.5,5,5.75,6,6.75,7.25,7.5,8,8.25,8.5,8.5,8.5,8.5,8.5,8.5,8.25,8.25,8,7.75,7.75,7.75,7.75,7.75,7.75,7.75,7.75,8,8.5,9,10,10.5,11.25,12,12.5,13,13.75,14.25,14.75,15.25,15.75,16,16.25,16.25,16.5,16.25,16.25,15.75,15.25,14.75,13.75,12.5,11.25,9.5,7.5,5,0.5,-3,-6.75,-10.5,-16.25,-19.5,-23.75,-28.25,-32.25,-36.25,-40.25,-46.25,-50,-53.5,-57,-60.5,-63.75,-67,-70.25,-73,-75.5,-79.25,-81.25,-82.5,-83.5,-84.5,-85.25,-85.5,-86,-86,-86.25,-86.25,-86.25,-86.25,-86.5,-86.5,-86.5,-86.75,-86.75,-86.75,-87,-87,-87,-87,-87,-86.75,-86.25,-86,-85.25,-84.75,-84,-83.5,-82.75,-82,-80.75,-79.75,-78.75,-77.5,-76.25,-75.25,-74,-72.5,-71.25,-70.25,-69.25,-68,-66.75,-65.25,-64.25,-63,-61.25,-60.25,-59,-57.75,-56.75,-55.5,-54.25,-53,-51.75,-50.5,-49.25,-47.75,-46.75,-45.75,-44.75,-43.75,-43,-42.5,-41.5,-40.75,-40,-38.75,-37.75,-36.75,-35.75,-34.75,-33.75,-32.25,-30.75,-29,-26.25,-24,-22,-19.75,-17.25,-15.25,-13,-10.75,-8.5,-5.75,-4,-2,-0.25,1.5,3.25,4.75,6.5,7.75,9.5,11.25,12.5,13.25,13.75,14,14.25,14.5,14.75,15,15,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,15.25,14.75,14,13,11.5,9.75,7.75,5.5,3.5,1.75,-0.75,-2.25,-3.75,-5.5,-7.25,-9,-11,-13.25,-15.25,-17.5,-19.75,-23,-25.25,-27.25,-29.5,-31.75,-34.5,-36.75,-39,-41.5,-43.75,-47,-48.75,-51,-53,-54.75,-56.25,-58,-59.25,-60.5,-62.75,-64,-65.25,-66.5,-67.75,-69.25,-70.5,-72,-73.25,-74.5,-76,-77,-78,-78.75,-79.25,-80,-80.25,-81,-81.5,-81.75,-82,-82.25,-82.5,-82.75,-83.75,-84.25,-84.5,-84.75,-85,-85,-85.25,-85.25,-85.25,-85.25,-85.25,-85,-85,-84.75,-84.25,-84,-83.5,-82.75,-82.25,-81.25,-80,-79,-76.75,-75.25,-73.5,-71.75,-70,-68.75,-67,-65.5,-64,-61.5,-59.75,-58.25,-56.5,-55,-53.25,-51.5,-50,-48.75,-47.5,-45.75,-44.25,-43,-41.75,-40.5,-39.25,-38.5,-37.5,-37,-36.5,-35.75,-35.25,-34.75,-34.5,-34.25,-33.75,-33.5,-33.25,-33,-32.75,-32.75,-32.75,-32.75,-32.75,-32.75,-32.75,-33,-33.5,-34.25,-35,-36,-36.75,-38,-39,-40,-41,-42.25,-43.5,-45,-46.25,-47.5,-48.75,-50.5,-51.75,-53.25,-55.25,-57.25,-59.75,-63,-65,-67.25,-69.25,-70.75,-72.25,-73.5,-75,-76.5,-77.5,-78.5,-79.5,-80.5,-81.25,-82,-82.75,-83.25,-83.5,-83.75,-84,-84.25,-84.25,-84.25,-84.25,-84.25,-84.25,-84,-83.75,-83.5,-83,-82.5,-82,-81.5,-80.75,-80.25,-79.5,-78.5,-77.25,-76,-74.75,-72.5,-71,-69.5,-68,-66.75,-65.5,-63.75,-62.75,-61,-59.25,-58,-56.25,-55,-53.75,-52.75,-51.5,-50.25,-48.75,-46.5,-46,-43.5,-42.25,-40.75,-39.5,-38,-36.75,-36,-35.25,-34.5,-34,-33.75,-33.5,-33.5,-33.5,-33.5,-33.5,-34.25,-35,-36.25,-37.75,-39.5,-41.5,-42.5,-44,-45,-46,-46.75,-47.75,-48.25,-49,-49.5,-50.25,-50.75,-51.25,-51.75,-52.5,-52.75,-53.5,-54.25,-55.25,-56,-57,-58.75,-59.75,-61,-62,-63.25,-64.5,-66,-67.25,-68.5,-71.25,-72.5,-73.75,-75,-76,-77,-77.5,-78.25,-78.75,-79,-79.5,-80.25,-80.5,-80.75,-81,-81.25,-81.25,-81.5,-81.5,-81.5,-81.5,-81.5,-81.5,-81.25,-81,-80.75,-80.75,-80.75,-80.75,-80.75,-80.5,-79.75,-79.25,-78.25,-77.25,-76,-74.75,-73.25,-71.75,-70.5,-69.25,-67.5,-66.5,-65.5,-64.5,-63.5,-62,-61,-60,-59,-58,-56,-54.5,-53,-51.5,-50,-48.5,-47.5,-46,-44.5,-43.25,-42.25,-40.75,-40.25,-39.5,-39.25,-39,-39,-38.75,-38.75,-38.75,-38.5,-38.5,-38.5,-38.5,-38.5,-38.5,-38.75,-39,-39,-39.25,-39.25,-39.25,-39.25,-39.25,-38.5,-38,-37.5,-37,-36.5,-36,-35.5,-35.25,-35,-34.5,-34.5,-34.5,-34.5,-34.5,-34.5,-34.75,-35,-35.5,-36,-36.75,-37.5,-38.5,-40,-41,-42,-43,-44,-44.75,-45.75,-46.5,-47.25,-48.5,-49.25,-50.25,-51.5,-53,-54,-55,-56.25,-57.25,-58.75,-60,-61.25,-62.25,-63.75,-64.75,-66,-67.5,-68.5,-69.75,-71,-72.25,-73.75,-74.75,-75.75,-76.75,-78,-78.75,-79.75,-80.75,-81.5,-82.25,-83.25,-83.75,-84,-84.25,-84.25,-84.5,-84.5,-84.5,-84.5,-84.5,-84.5,-84.5,-84,-83.75,-83.25,-83,-82.25,-81.75,-81.25,-80.5,-79.75,-79,-77.5,-76.5,-75.5,-74.5,-73.5,-72.25,-71.25,-70,-68.5,-67.25,-65.25,-64,-62.5,-61,-59.5,-57.5,-55.5,-53.5,-51.5,-49.25,-46.25,-44.25,-42.5,-41,-39.75,-39,-38,-37.25,-36.5,-35.75,-35.25,-34.75,-34.75,-34.75,-34.75,-34.75,-35,-35.25,-35.75,-36.5,-37.25,-38.25,-39.25,-40.5,-41.75,-43.5,-44.75,-45.75,-47,-47.75,-48.75,-49.75,-50.75,-51.75,-53.25,-54.25,-55.25,-56,-57.25,-58.25,-59.75,-60.75,-62.5,-64.25,-65.75,-68,-69,-70.25,-71.25,-72,-73,-73.75,-74.5,-75.5,-76.25,-77.75,-78.75,-79.5,-80.5,-81.5,-82,-82.75,-83.5,-84.25,-85,-86.25,-86.75,-87.25,-87.75,-88,-88,-88,-88,-87.5,-86.5,-85.75,-84.5,-83.25,-81.75,-80,-78,-76,-72.75,-70.5,-68.25,-66,-63.75,-61.25,-59,-56.75,-54.25,-51.5,-48,-45.5,-43.25,-41,-38.5,-36,-33.25,-30.5,-28,-25.5,-23.25,-19.75,-18,-16.75,-14.75,-13.5,-12.75,-11.75,-10.5,-9.75,-7.5,-6,-4.25,-2.25,-0.75,0.5,1.5,2,2.5,2.75,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2.5,1.75,0.25,-2.5,-5.5,-8.75,-11.5,-14,-16.75,-18.5,-20.5,-22.5,-24.5,-26.5,-28.25,-30.25,-31.75,-33.5,-36,-37.75,-39.5,-41.25,-43,-45,-46.75,-48.75,-50.75,-52.75,-56,-58.25,-60.75,-63.25,-65.5,-67.75,-70,-72,-73.5,-75.75,-77.5,-78.75,-79.75,-80.75,-81.75,-82.5,-83,-83.5,-84,-84.75,-85,-85.5,-85.75,-86,-86.25,-86.25,-86.25,-86.25,-86.25,-86,-86,-85.75,-85.5,-85,-84.75,-84.25,-83.75,-83,-82,-81.25,-80.5,-79.5,-78.75,-77.5,-76.25,-75.25,-74,-72.5,-70.75,-69.5,-67.75,-66.25,-64.25,-62.5,-60.75,-59,-57.25,-55.75,-53.5,-52.25,-51.5,-50.5,-49.5,-49,-48.25,-47.75,-47.25,-47,-46.75,-46.75,-46.75,-46.75,-46.75,-46.75,-46.5,-46.5,-46.5,-46.5,-46.5,-46.5,-46.5,-46.75,-46.75,-47,-47.5,-47.75,-48.25,-49.5,-50.25,-51,-52.5,-54,-55.5,-57.25,-59,-60.75,-62.5,-64,-65.25,-67.5,-68.75,-69.75,-71,-71.75,-72.75,-73.5,-74.25,-75.5,-77.25,-78.25,-79.75,-80.75,-81.5,-82.25,-82.75,-83.25,-83.5,-84,-84.5,-84.75,-85.25,-85.5,-86,-86.25,-86.5,-86.5,-86.75,-86.75,-86.75,-86.75,-86.75,-86.75,-86.5,-86,-85.5,-84.75,-84,-83.25,-82.5,-81.5,-80.75,-79.75,-79,-77.75,-76.75,-75,-73.5,-72.25,-71,-69.25,-67.75,-66,-63.75,-61.75,-59,-57.25,-55.25,-53.75,-52.5,-51.25,-50.75,-49.75,-49,-48.5,-48,-47.25,-46.75,-46.5,-46,-45.75,-45.5,-45.25,-45,-44.75,-44.5,-44.25,-44.25,-44.25,-44,-44,-44,-44,-44,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-43.75,-44.25,-44.5,-45,-45.5,-46,-46.75,-47.25,-48,-48.75,-49.5,-50,-51,-51.5,-52.5,-53.5,-54.5,-56,-57.5,-59.25,-60.75,-63.5,-65.25,-67.5,-69.5,-71.5,-73.75,-76,-78,-79.5,-82,-83.25,-84.5,-85.25,-86.25,-86.75,-87,-87.25,-87.5,-87.75,-87.75,-87.75,-87.75,-87.75,-87.75,-87.75,-87.25,-86.75,-85.75,-84.75,-83.5,-82.5,-80.5,-79.25,-78,-77,-75.25,-74.25,-73.25,-72,-70.75,-69.5,-67.75,-66.5,-65.5,-64,-62.75,-61.5,-60,-58.5,-57.25,-54.5,-53.5,-52.25,-51,-49.5,-48.5,-47.25,-46.25,-45.5,-45,-44.75,-44.75,-44.75,-45.5,-46.25,-47.5,-49.25,-50.5,-51.5,-53,-54,-55,-56.25,-57.25,-58.5,-59.5,-61,-62,-63,-64,-65,-66,-67,-67.75,-68.75,-70.25,-72,-73.5,-75,-76.5,-77.75,-79.5,-81,-82.5,-84.25,-85,-85.5,-86,-86.5,-86.75,-87,-87.25,-87.25,-87.5,-87.75,-87.75,-87.75,-87.75,-88,-88,-88,-88,-88,-88,-88,-88,-88,-88,-88,-88,-87.75,-87.75,-87.75,-87.5,-87.25,-87,-86.75,-86.5,-86.25,-86,-85.5,-84.75,-83.5,-80.75,-75,-68.5];
% v = 10;
% 
% 
% newy = [y(1)];
% newx = [x(1)];
% for i = 1:length(x)
%     lastCoord = [x(i)-newx(end) y(i)-newy(end)];
%     if (norm(lastCoord) > v) 
%         newy = [newy y(i)];
%         newx = [newx x(i)];        
%     end
% end
% y = newy;
% x = newx;
% 
% p = [x' y'];
% theta = 0;
% 
% L = 140;
% d = 66;
% Dr = [];
% Dl = [];
% 
% deltaP = p(2,:) - p(1,:);
% rotation = atan2(deltaP(2), deltaP(1));
% Dl = [Dl rotation*66];
% Dr = [Dr -rotation*66];
% translation = norm(p(2, :) - p(1, :));
% Dl = [Dl translation];
% Dr = [Dr translation];
% 
% 
% for i = 2:length(x)-1
%     deltaP2 = p(i+1,:) - p(i,:);
%     deltaP1 = p(i,:) - p(i-1, :);
%     rotation = atan2(deltaP2(2), deltaP2(1)) - atan2(deltaP1(2), deltaP1(1));
%     Dl = [Dl rotation*66];
%     Dr = [Dr -rotation*66];
%     
%     translation = norm(p(i+1, :) - p(i, :));
%     Dl = [Dl translation];
%     Dr = [Dr translation];
% end
% 
% plot(x, y)
% 
% 
% ind = find((Dr == inf) | (Dl == inf) | isnan(Dr) | isnan(Dl));
% Dr(ind) = [];
% Dl(ind) = [];
% t(ind) = [];
% 
% % 
% % newDr = [Dr(1)];
% % newDl = [Dl(1)];
% % newt = [t(1)];
% % for i = 1:length(Dr)
% %     lastCoord = [Dr(i)-newDr(end) Dl(i)-newDl(end)];
% %     if (norm(lastCoord) > v) 
% %         newDr = [newDr Dr(i)];
% %         newDl = [newDl Dl(i)];
% %         newt = [newt t(i)];
% %     end
% % end
% 
% 
% figure()
% plot(Dr, 'b');
% hold on
% plot(Dl, 'r');
% 
% for i = 1:length(Dl)
%     disp(sprintf('{%2.2f, %2.2f}, ', Dl(i), Dr(i)));
% end